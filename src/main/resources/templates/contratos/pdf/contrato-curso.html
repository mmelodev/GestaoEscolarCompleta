<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS EDUCACIONAIS</title>
    <style>
        @page {
            margin: 2cm;
            size: A4;
        }
        body {
            font-family: 'Times New Roman', serif;
            font-size: 11pt;
            line-height: 1.5;
            color: #000;
            background-color: #fff;
        }
        .page {
            max-width: 18cm;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            font-size: 14pt;
            font-weight: bold;
            margin-bottom: 20px;
            position: relative;
            padding-top: 60px;
        }
        .logo-container {
            text-align: left;
            margin-bottom: 8px;
            position: absolute;
            top: 0;
            left: 0;
        }
        .logo-container img {
            max-width: 140px;
            height: auto;
        }
        .instituto-name {
            font-size: 16pt;
            margin-bottom: 5px;
        }
        .contract-title {
            font-size: 13pt;
            margin-top: 10px;
            margin-bottom: 15px;
        }
        .section {
            margin: 15px 0;
            text-align: justify;
        }
        .section-title {
            font-weight: bold;
            font-size: 12pt;
            margin-bottom: 8px;
            margin-top: 15px;
        }
        .clause {
            margin: 10px 0;
            text-align: justify;
        }
        .clause-number {
            font-weight: bold;
        }
        .paragraph {
            margin: 5px 0 5px 20px;
            text-align: justify;
        }
        .table-info {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        .table-info td {
            padding: 3px;
            border: 1px solid #000;
            font-size: 10pt;
        }
        .table-info .label {
            font-weight: bold;
            width: 30%;
        }
        .table-object {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .table-object th,
        .table-object td {
            padding: 5px;
            border: 1px solid #000;
            text-align: center;
            font-size: 10pt;
        }
        .table-object th {
            background-color: #f0f0f0;
            font-weight: bold;
        }
        .field-value {
            font-weight: bold;
        }
        .signature-section {
            margin-top: 60px;
            page-break-inside: avoid;
            padding: 30px 0;
            border-top: 2px solid #000;
            clear: both;
            display: block;
            width: 100%;
        }
        .signature-box {
            display: inline-block;
            width: 45%;
            margin: 20px 2%;
            vertical-align: top;
            text-align: center;
        }
        .signature-line {
            border-top: 1px solid #000;
            margin-top: 80px;
            padding-top: 10px;
            min-height: 100px;
            font-size: 10pt;
            line-height: 1.8;
        }
        .signature-line strong {
            display: block;
            margin-bottom: 5px;
            font-size: 10pt;
            font-weight: bold;
        }
        .footer {
            margin-top: 30px;
            font-size: 9pt;
            text-align: center;
            color: #333;
            border-top: 1px solid #ccc;
            padding-top: 10px;
        }
        .date-time {
            text-align: right;
            margin-bottom: 10px;
            font-size: 10pt;
        }
        .action-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 10px;
        }
        .action-buttons button {
            padding: 12px 24px;
            font-size: 14px;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        .action-buttons button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .btn-print {
            background-color: #007bff;
            color: white;
        }
        .btn-print:hover {
            background-color: #0056b3;
        }
        .btn-close {
            background-color: #6c757d;
            color: white;
        }
        .btn-close:hover {
            background-color: #545b62;
        }
        @media print {
            .action-buttons {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Bot√µes de A√ß√£o -->
    <div class="action-buttons">
        <button class="btn-print" onclick="window.print()">üñ®Ô∏è Imprimir</button>
        <button class="btn-close" onclick="window.close()">‚ùå Sair</button>
    </div>
    <div class="page">
        <div class="header">
            <div class="logo-container">
                <img th:src="@{/img/horizontal.png}" alt="AriranG Logo" />
            </div>
            <div class="instituto-name">INSTITUTO ARIRANG - IA</div>
            <div class="contract-title">CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS EDUCACIONAIS</div>
        </div>

        <div class="section">
        <p>Pelo presente instrumento particular de <strong>CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS EDUCACIONAIS</strong>, 
        a <strong>ESCOLA DE COREANO NO AMAZONAS LTDA</strong>, inscrita no CNPJ/MF sob n¬∞ <strong>34.099.780/0001-90</strong>, 
        com sede na cidade de Manaus - AM, na <strong>RUA MONSENHOR COUTINHO, 821</strong>, doravante denominada 
        <strong>INSTITUTO ARIRANG</strong>, neste ato representada pelo seu Diretor prof. <strong>ERYSTENYS REIS COSTA FILHO</strong>, 
        e de outro lado o(a) estudante: <strong><span th:text="${aluno.nomeCompleto}">FULANO DE TAL</span></strong> 
        identifica√ß√£o interna ID <strong><span th:text="${aluno.id}">XX</span></strong>, nascido(a) em 
        <strong>
            <span th:if="${aluno.dataNascimento != null}" th:text="${#temporals.format(aluno.dataNascimento, 'dd/MM/yyyy')}">00/00/0000</span>
            <span th:unless="${aluno.dataNascimento != null}">00/00/0000</span>
        </strong> 
        inscrito(a) no CPF sob o n¬∫ <strong>
            <span th:if="${aluno.cpf != null}" th:text="${aluno.cpf}">000.000.000-00</span>
            <span th:unless="${aluno.cpf != null}">000.000.000-00</span>
        </strong> 
        e RG <strong>
            <span th:if="${aluno.rg != null}" th:text="${aluno.rg}">000000-00</span>
            <span th:unless="${aluno.rg != null}">000000-00</span>
        </strong> 
        domiciliado na <strong>
            <span th:if="${aluno.endereco != null}">
                <span th:if="${aluno.endereco.logradouro != null}" th:text="${aluno.endereco.logradouro}">ENDERE√áO DO ALUNO</span>
                <span th:if="${aluno.endereco.numero != null}" th:text="${', ' + aluno.endereco.numero}"></span>
                <span th:if="${aluno.endereco.complemento != null}" th:text="${' - ' + aluno.endereco.complemento}"></span>
                <span th:if="${aluno.endereco.bairro != null}" th:text="${', ' + aluno.endereco.bairro}"></span>
                <span th:if="${aluno.endereco.cidade != null}" th:text="${', ' + aluno.endereco.cidade}"></span>
                <span th:if="${aluno.endereco.estado != null}" th:text="${' - ' + aluno.endereco.estado}"></span>
                <span th:if="${aluno.endereco.cep != null}" th:text="${', CEP: ' + aluno.endereco.cep}"></span>
            </span>
            <span th:unless="${aluno.endereco != null}">ENDERE√áO DO ALUNO</span>
        </strong>
        <span th:if="${aluno.responsavel != null}">
            tendo como seu respons√°vel financeiro o <strong>
                <span th:if="${aluno.responsavel.nomeCompleto != null}" th:text="${aluno.responsavel.nomeCompleto}">FULANO DE TAL</span>
                <span th:unless="${aluno.responsavel.nomeCompleto != null}">FULANO DE TAL</span>
            </strong>, inscrito(a) no CPF sob o n¬∫ <strong>
                <span th:if="${aluno.responsavel.cpf != null}" th:text="${aluno.responsavel.cpf}">000.000.000-00</span>
                <span th:unless="${aluno.responsavel.cpf != null}">000.000.000-00</span>
            </strong> 
            e RG <strong>
                <span th:if="${aluno.responsavel.rg != null}" th:text="${aluno.responsavel.rg}">000000-00</span>
                <span th:unless="${aluno.responsavel.rg != null}">000000-00</span>
            </strong> 
            domiciliado na <strong>
                <span th:if="${aluno.endereco != null}">
                    <span th:if="${aluno.endereco.logradouro != null}" th:text="${aluno.endereco.logradouro}">ENDERE√áO DO ALUNO</span>
                    <span th:if="${aluno.endereco.numero != null}" th:text="${', ' + aluno.endereco.numero}"></span>
                    <span th:if="${aluno.endereco.complemento != null}" th:text="${' - ' + aluno.endereco.complemento}"></span>
                    <span th:if="${aluno.endereco.bairro != null}" th:text="${', ' + aluno.endereco.bairro}"></span>
                    <span th:if="${aluno.endereco.cidade != null}" th:text="${', ' + aluno.endereco.cidade}"></span>
                    <span th:if="${aluno.endereco.estado != null}" th:text="${' - ' + aluno.endereco.estado}"></span>
                    <span th:if="${aluno.endereco.cep != null}" th:text="${', CEP: ' + aluno.endereco.cep}"></span>
                </span>
                <span th:unless="${aluno.endereco != null}">ENDERE√áO DO ALUNO</span>
            </strong>
        </span>
        <span th:if="${turma != null and turma.idioma != null and !turma.idioma.trim().isEmpty()}">
            , interessado(a) em estudar <strong th:text="${turma.idioma}">idioma</strong>
        </span>
        , entre si justo e contratado o que segue:</p>
    </div>

    <div class="section-title">DO OBJETO</div>

    <table class="table-object">
        <thead>
            <tr>
                <th>CURSO</th>
                <th>MODO</th>
                <th>TURNO E HOR√ÅRIO</th>
                <th>VALOR</th>
                <th>OBSERVA√á√ÉO</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <span th:if="${turma != null and turma.idioma != null and !turma.idioma.trim().isEmpty()}" th:text="${turma.idioma}">COREANO</span>
                    <span th:unless="${turma != null and turma.idioma != null and !turma.idioma.trim().isEmpty()}">‚Äî</span>
                </td>
                <td th:text="${turma != null ? (turma.modalidade != null ? turma.modalidade.toString() : 'INTENSIVO') : 'INTENSIVO'}">INTENSIVO</td>
                <td>
                    <span th:text="${turma != null ? (turma.diaTurma != null ? turma.diaTurma : 'S√ÅBADO') : 'S√ÅBADO'}">S√ÅBADO</span>
                    <span th:if="${turma != null and turma.horaInicio != null and !turma.horaInicio.isEmpty()}">
                        <span th:text="${turma.horaInicio}">14h00m</span>
                    </span>
                    <span th:if="${turma != null and turma.horaInicio != null and !turma.horaInicio.isEmpty()}"> AT√â </span>
                    <span th:if="${turma != null and turma.horaTermino != null and !turma.horaTermino.isEmpty()}">
                        <span th:text="${turma.horaTermino}">17h00m</span>
                    </span>
                </td>
                <td>
                    <span th:if="${contrato.valorMatricula != null and contrato.valorMatricula > 0 and contrato.valorMensalidade != null}">
                        <span th:text="${#numbers.formatCurrency(valorMatriculaComDesconto.add(valorMensalidadeComDesconto))}">R$ 300,00</span>
                        <br/>
                        <span style="font-size: 0.85em; color: #666;">(Matr√≠cula: <span th:text="${#numbers.formatCurrency(valorMatriculaComDesconto)}">R$ 100,00</span> + Mensalidade: <span th:text="${#numbers.formatCurrency(valorMensalidadeComDesconto)}">R$ 200,00</span>)</span>
                    </span>
                    <span th:unless="${contrato.valorMatricula != null and contrato.valorMatricula > 0}">
                        <span th:text="${#numbers.formatCurrency(valorMensalidadeComDesconto)}">R$ 200,00</span>
                    </span>
                </td>
                <td th:text="${turma != null and turma.formato != null ? turma.formato.descricao : 'PRESENCIAL'}">PRESENCIAL</td>
            </tr>
        </tbody>
    </table>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 1¬™.</span> O presente contrato tem como objeto a presta√ß√£o dos servi√ßos educacionais 
        durante o per√≠odo de <strong>
            <span th:if="${contrato.dataInicioVigencia != null}" th:text="${#temporals.format(contrato.dataInicioVigencia, 'dd/MM/yyyy')}">17/05/2025</span>
            <span th:unless="${contrato.dataInicioVigencia != null}">______</span>
        </strong> 
        at√© <strong>
            <span th:if="${contrato.dataFimVigencia != null}" th:text="${#temporals.format(contrato.dataFimVigencia, 'dd/MM/yyyy')}">05/07/2025</span>
            <span th:unless="${contrato.dataFimVigencia != null}">______</span>
        </strong>, 
        ao aluno benefici√°rio deste documento, correspondente √† l√≠ngua <strong>
            <span th:if="${turma != null and turma.idioma != null and !turma.idioma.trim().isEmpty()}">
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Coreano')}">COREANA</span>
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Franc√™s')}">FRANCESA</span>
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Ingl√™s')}">INGLESA</span>
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Mandarim')}">MANDARIM</span>
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Japon√™s')}">JAPONESA</span>
                <span th:if="${#strings.equalsIgnoreCase(turma.idioma, 'Espanhol')}">ESPANHOLA</span>
                <span th:if="${!#strings.equalsIgnoreCase(turma.idioma, 'Coreano') and !#strings.equalsIgnoreCase(turma.idioma, 'Franc√™s') and !#strings.equalsIgnoreCase(turma.idioma, 'Ingl√™s') and !#strings.equalsIgnoreCase(turma.idioma, 'Mandarim') and !#strings.equalsIgnoreCase(turma.idioma, 'Japon√™s') and !#strings.equalsIgnoreCase(turma.idioma, 'Espanhol')}" th:text="${#strings.toUpperCase(turma.idioma)}">idioma</span>
            </span>
            <span th:unless="${turma != null and turma.idioma != null and !turma.idioma.trim().isEmpty()}">‚Äî</span>
        </strong> 
        na modalidade <strong><span th:text="${turma != null and turma.modalidade != null ? turma.modalidade.toString() : 'Regular'}">Regular</span></strong> 
        no local disponibilizado pelo(a) <strong>INSTITUTO ARIRANG</strong>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo primeiro.</strong> A ades√£o do <strong>CONTRATANTE</strong> se efetiva diante o deferimento do 
        requerimento de matr√≠cula devidamente preenchido e o recebimento pela <strong>CONTRATADA</strong> da taxa de matr√≠cula de 
        <strong><span th:text="${#numbers.formatCurrency(valorMatriculaComDesconto)}">R$ 150,00</span></strong> 
        <span th:if="${valorMatriculaComDesconto != null and valorMatriculaComDesconto.compareTo(T(java.math.BigDecimal).valueOf(150L)) == 0}">(cento e cinquenta reais)</span>
        <span th:if="${valorMatriculaComDesconto == null or valorMatriculaComDesconto.compareTo(T(java.math.BigDecimal).valueOf(150L)) != 0}">(valor conforme contrato)</span>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo segundo.</strong> A parcela da <strong>CONTRATANTE</strong> se mant√©m de acordo com o calend√°rio 
        escolar previamente elaborado e disponibilizado pela <strong>CONTRATADA</strong>, sendo assim, fica acordado 
        <strong><span th:text="${contrato.numeroParcelas != null ? contrato.numeroParcelas : '6'}">6</span> PARCELAS</strong> 
        do m√™s de <strong>
            <span th:if="${contrato.dataInicioVigencia != null}" th:text="${#temporals.format(contrato.dataInicioVigencia, 'MMMM')}">JANEIRO</span>
            <span th:unless="${contrato.dataInicioVigencia != null}">JANEIRO</span>
        </strong> 
        at√© <strong>
            <span th:if="${contrato.dataFimVigencia != null}" th:text="${#temporals.format(contrato.dataFimVigencia, 'MMMM')}">JULHO</span>
            <span th:unless="${contrato.dataFimVigencia != null}">JULHO</span>
        </strong>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo terceiro.</strong> A <strong>CONTRATADA</strong> poder√° alterar ao seu crit√©rio o calend√°rio escolar, 
        respeitadas as exig√™ncias legais de carga hor√°rio e de dias letivos, devendo comunicar ao aluno a ocorr√™ncia da altera√ß√£o.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo quarto.</strong> O aluno estar√° sujeito √†s normas do Regimento Escolar e demais Portarias, Resolu√ß√µes e 
        Normas Internas da Institui√ß√£o, aos quais se integra o presente instrumento para esclarecimento dos poss√≠veis casos omissos. 
        O <strong>CONTRATANTE</strong> declara ter pelo conhecimento das normas referidas, que se encontram √† sua disposi√ß√£o, na secretaria da <strong>CONTRATADA</strong>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo quinto.</strong> N√£o est√£o inclusos neste contrato servi√ßos especiais, tais como: recupera√ß√£o, refor√ßo, 
        segunda chamada, exames especiais, transporte escolar, declara√ß√µes, 2¬™ via de documentos, merenda escolar, atividades de frequ√™ncia 
        facultativa para o aluno, nem fornecimento de materiais de uso individual obrigat√≥rio, cujos valores ser√£o fixados pela <strong>TESOURARIA</strong>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo sexto.</strong> O <strong>CONTRATANTE</strong> se compromete a manter o <strong>CONTRATADO</strong> sempre 
        informado, atrav√©s de documentos espec√≠ficos, sobre seus corretos e atuais dados, como: 
        endere√ßo, n√∫meros de telefone, ou qualquer altera√ß√£o de identifica√ß√£o e qualifica√ß√£o constante 
        no pre√¢mbulo deste contrato, sob pena de, ocorrendo a devolu√ß√£o de qualquer e/ou notifica√ß√£o 
        que lhe for enviada, ter-se como recebida e aceita, mesmo que se trate de recis√£o do presente contrato.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo s√©timo.</strong> Reserva-se a escola o direito de, no prazo de 15 (quinze) dias ap√≥s o in√≠cio de cada modulo letivo, 
        cancelar qualquer turma cujo n√∫mero de alunos seja inferior a 5 (cinco) alunos, sendo facultada a possibilidade de pleitear uma vaga em 
        outra turma do mesmo n√≠vel, em turno diverso do qual foi cancelado, desde que existente, devendo o aluno efetuar o pagamento da mensalidade 
        correspondente ao turno e ao curso o dispon√≠vel a ser contratado.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo oitavo.</strong> O aluno receber√° no final do curso o certificado emitido pela escola sem taxas se houver 70% de frequ√™ncia 
        e m√©dia 7 (sete). Caso o aluno queira algum comprovante ele pode pedir da secretaria uma <strong>DECLARA√á√ÉO</strong> e deve pagar a taxa estipulada pela Tesouraria.
    </div>

    <div class="section-title">PRE√áO / PAGAMENTO / INADIMPL√äNCIA</div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 2¬™.</span> O <strong>CONTRATANTE</strong> indenizar√° ao <strong>INSTITUTO ARIRANG</strong> de qualquer 
        dano causado ao patrim√¥nio da institui√ß√£o ao pre√ßo de mercado.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo primeiro.</strong> O <strong>CONTRATANTE</strong> est√° completamente ciente de que √© proibido comercializar produtos comest√≠veis, 
        roupas, cosm√©ticos, cal√ßados, etc., dentro das depend√™ncias da <strong>CONTRATANTE</strong>, salvo se expressamente autorizado pela Dire√ß√£o sob pena 
        de lhe ser aplicado as penas previstas nesta IES.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 3¬™.</span> Pelos servi√ßos educacionais a serem prestados, o <strong>CONTRATANTE</strong> pagar√° √† <strong>CONTRATADA</strong> 
        o valor de <strong><span th:text="${#numbers.formatCurrency(valorMensalidadeComDesconto)}">R$ 150,00</span></strong> 
        <span th:if="${valorMensalidadeComDesconto != null and valorMensalidadeComDesconto.compareTo(T(java.math.BigDecimal).valueOf(150L)) == 0}">(cento e cinquenta)</span>
        sendo a mensalidade conforme o requerimento de matr√≠cula, a ser paga da seguinte forma:
    </div>

    <div class="paragraph">
        <strong>Par√°grafo primeiro.</strong> A primeira parcela dever√° ser paga com a taxa de matr√≠cula, como sinal, arras ou princ√≠pio de pagamento e condi√ß√£o 
        de concretiza√ß√£o do contrato de presta√ß√£o de servi√ßos, raz√£o pela qual n√£o ser√° devolvida, no todo ou em parte, no caso de desist√™ncia por parte do <strong>CONTRATANTE</strong>.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo segundo.</strong> As demais parcelas dever√£o ser pagas sucessivamente e mensalmente a partir do primeiro m√™s da presta√ß√£o a que se refere este contrato, 
        sempre com vencimento no dia d√©cimo do dia do m√™s.<br>
        Os pagamentos das mensalidades poder√£o ser efetuados via boleto banc√°rio, transfer√™ncia banc√°ria, dep√≥sito banc√°rio, no cart√£o de cr√©dito ou d√©bito das principais bandeiras, 
        via PIX ou na pr√≥pria escola por carn√™.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo terceiro.</strong> No alto da matr√≠cula, o <strong>CONTRATANTE</strong> pagar√° o valor de <strong><span th:text="${#numbers.formatCurrency(valorMatriculaComDesconto)}">R$ 150,00</span></strong> 
        como taxa de matr√≠cula. A rematricula ter√° o mesmo valor a cada in√≠cio de m√≥dulo proposto pelo calend√°rio escolar informado previamente pela escola.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo quarto.</strong> O pagamento das obriga√ß√µes financeiras do <strong>CONTRATANTE</strong> comprovar-se-√° mediante apresenta√ß√£o do respectivo comprovante pago.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 4¬™.</span> Tolera-se eventualmente o atraso no pagamento at√© o vig√©simo dia do m√™s, sem a incid√™ncia de multa ou juros, n√£o caracterizando 
        essa toler√¢ncia uma nova√ß√£o contratual. Deve-se observar que tal liberdade n√£o significa altera√ß√£o das datas previstas para pagamento.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo √∫nico.</strong> Ocorrendo o atraso superior ao mencionado no caput desta Cl√°usula, referente a qualquer parcela, o <strong>CONTRATANTE</strong> pagar√° o principal, 
        devidamente atualizado com base no IGP-M, calculada cumulativamente at√© o efetivo pagamento. Na impossibilidade de aplica√ß√£o de tal √≠ndice indexador ser√° aplicado o que melhor 
        refletir a real desvaloriza√ß√£o da moeda nacional, desde a data do inadimplemento at√© o efetivo pagamento. Ser√° acrescida multa de <strong>2%</strong> sobre o valor principal corrigido 
        mais juros de mora de <strong>1%</strong> ao m√™s.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 5¬™.</span> Ocorrendo atraso do pagamento superior a 30 dias, a <strong>CONTRATADA</strong> poder√°:<br>
        1- Efetuar a inclus√£o do nome do <strong>CONTRATANTE</strong> no cadastro de Servi√ßo de Prote√ß√£o de Cr√©dito - SPC, consoante autoriza√ß√£o da legisla√ß√£o vigente;<br>
        2- Efetuar cobran√ßa judicial e extrajudicial da parcela em aberto, mais o reembolso de honor√°rios advocat√≠cios, podendo, al√©m destes, utilizar-se de outros meios previstos na 
        legisla√ß√£o comum aplic√°vel, para buscar a solv√™ncia do d√©bito.<br>
        3- Recusar a matr√≠cula para o semestre seguinte.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 6¬™.</span> A <strong>CONTRATADA</strong> poder√° ou n√£o, a seu crit√©rio, renovar a matr√≠cula do aluno para o semestre seguinte, se houver d√©bito 
        relativo ao per√≠odo anterior ou se tiver havido inadimpl√™ncia de parcela por per√≠odo superior a 60 (sessenta) dias.
    </div>

    <div class="section-title">PRAZO</div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 7¬™.</span> O presente contrato tem dura√ß√£o at√© o final do semestre contratado, podendo ser rescindido, de acordo com o estipulado na cl√°usula 9¬™ e 12¬™
    </div>

    <div class="paragraph">
        <strong>Par√°grafo √∫nico.</strong> O prazo de vig√™ncia do presente contrato poder√° ser prorrogado por tantos m√≥dulos subsequentes, at√© a conclus√£o do curso do <strong>CONTRATANTE</strong>, 
        desde de que ele esteja em dia com todas as suas obriga√ß√µes financeiras. A renova√ß√£o de que trata esta cl√°usula n√£o se dar√° de forma automaticamente, devendo o <strong>CONTRATANTE</strong> 
        comparecer em data estipulada para a ci√™ncia de alguns ajustes e assinatura do termo, ap√≥s o pagamento da primeira taxa de rematricula/ mensalidade do m√≥dulo seguinte.
    </div>

    <div class="section-title">DESLIGAMENTO</div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 8¬™.</span> Os pedidos de transfer√™ncia, cancelamento, desist√™ncia da matr√≠cula dever√£o ser requeridos presencialmente pelo <strong>CONTRATANTE</strong> 
        na secretaria da escola.<br>
        A escola ter√° um prazo de at√© 30 (trinta) dias √∫teis para fornecer a documenta√ß√£o de interesse do aluno contado da data do protocolo de pedido da secretaria.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 9¬™.</span> O presente contrato poder√° ser rescindido pela <strong>CONTRATANTE</strong>, a qualquer tempo, ficando o mesmo respons√°vel pelo pagamento de 
        <strong>10%</strong> do d√©bito total com a escola.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 10¬™.</span> Ao efetuar o desligamento do estabelecimento de ensino, conforme termo assinado pelas partes, perdem efeito os eventuais t√≠tulos de cr√©dito 
        dados em garantia do pagamento das parcelas vincendas ap√≥s o efetivo desligamento.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 11¬™.</span> Se depois de formalizada a matr√≠cula, houver desist√™ncia pela <strong>CONTRATANTE</strong>, antes que sejam iniciados os servi√ßos previstos na 
        cl√°usula primeira, ser√£o devolvidos <strong>80%</strong> do valor pago na matr√≠cula, sem corre√ß√£o, ficando retido <strong>20%</strong> a si mesmo para a <strong>CONTRATADA</strong>, desde que a comunica√ß√£o da 
        desist√™ncia seja feita por escrito at√© o √∫ltimo dia do m√™s.
    </div>

    <div class="paragraph">
        <strong>Par√°grafo √∫nico.</strong> Ap√≥s a data limite especificada na cl√°usula 10¬™, ser√° retido o valor integral pago na matr√≠cula
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 12¬™.</span> O presente contrato poder√° ser rescindido pela <strong>CONTRATADA</strong> em caso de pr√°tica pelo <strong>ALUNO</strong>, de atos de indisciplina 
        ou outros previstos no Regime Escolar bem como por inadimpl√™ncia contratual de parcelas vencidas superior a 90 (noventa) dias sendo devidas as mensalidades at√© a data do efetivo desligamento.
    </div>

    <div class="section-title">DISCUSS√ÉO SOCIAL</div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 13¬™.</span> Em caso de discuss√£o judicial sobre o presente contrato, o contratante continuar√° 
        pagando diretamente a contratada o valor pactuado, at√© decis√£o final, fazendo-se ent√£o as 
        compensa√ß√µes necess√°rias.
    </div>

    <div class="clause">
        <span class="clause-number">CL√ÅUSULA 14¬™</span> Fica eleito o foro da comarca de Manaus - AM para dirimir eventuais d√∫vidas e controv√©rsias oriundas do presente contrato. E por estarem assim 
        justos e contratados, firmam o presente instrumento em duas vias de igual teor com duas testemunhas.
    </div>

    <div class="date-time">
        Manaus <span th:text="${#temporals.format(#temporals.createNow(), 'HH:mm:ss')}">15:51:47</span><br>
        <span th:if="${contrato.dataContrato != null}" th:text="${#temporals.format(contrato.dataContrato, 'EEEE')}">ter√ßa-feira</span>
        <span th:unless="${contrato.dataContrato != null}">______</span>, 
        <span th:if="${contrato.dataContrato != null}" th:text="${#temporals.format(contrato.dataContrato, 'dd')}">29</span>
        <span th:unless="${contrato.dataContrato != null}">______</span> de 
        <span th:if="${contrato.dataContrato != null}" th:text="${#temporals.format(contrato.dataContrato, 'MMMM')}">abril</span>
        <span th:unless="${contrato.dataContrato != null}">______</span> de 
        <span th:if="${contrato.dataContrato != null}" th:text="${#temporals.format(contrato.dataContrato, 'yyyy')}">2025</span>
        <span th:unless="${contrato.dataContrato != null}">____</span>
    </div>

    <div class="signature-section" style="page-break-inside: avoid; margin-top: 60px; padding: 20px 0;">
        <!-- INSTITUTO / DIRETOR / CONTRATANTE (lado a lado) -->
        <div style="width: 100%; margin-bottom: 50px; display: table;">
            <!-- Instituto / Diretor -->
            <div style="display: table-cell; width: 50%; padding-right: 3%; vertical-align: top;">
                <div style="border-top: 2px solid #000; padding-top: 15px; min-height: 80px; text-align: center;">
                    <div style="font-size: 11pt; font-weight: bold; margin-bottom: 6px;">
                        INSTITUTO ARIRANG - IA
                    </div>
                    <div style="font-size: 10pt; margin-bottom: 4px;">
                        CNPJ: 34.099.780/0001-90
                    </div>
                    <div style="font-size: 10pt;">
                        Diretor: ERYSTENYS REIS COSTA FILHO
                    </div>
                </div>
            </div>
            <!-- Contratante -->
            <div style="display: table-cell; width: 50%; padding-left: 3%; vertical-align: top;">
                <div style="border-top: 2px solid #000; padding-top: 15px; min-height: 80px; text-align: center;">
                    <div style="font-size: 11pt; font-weight: bold; margin-bottom: 6px;">
                        CONTRATANTE
                    </div>
                    <div style="font-size: 10pt; margin-bottom: 4px;">
                        Nome: <span th:if="${aluno.responsavel != null and aluno.responsavel.nomeCompleto != null}" th:text="${aluno.responsavel.nomeCompleto}">Respons√°vel Financeiro OU pr√≥prio aluno se for de maior</span>
                        <span th:if="${aluno.responsavel == null or aluno.responsavel.nomeCompleto == null}" th:text="${aluno.nomeCompleto}">Respons√°vel Financeiro OU pr√≥prio aluno se for de maior</span>
                    </div>
                    <div style="font-size: 10pt;">
                        CPF: 
                        <span th:if="${aluno.responsavel != null and aluno.responsavel.cpf != null}" th:text="${aluno.responsavel.cpf}">0000</span>
                        <span th:if="${aluno.responsavel == null or aluno.responsavel.cpf == null}" th:text="${aluno.cpf != null ? aluno.cpf : '0000'}">0000</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- TESTEMUNHAS (lado a lado) -->
        <div style="width: 100%; margin-top: 20px; clear: both; display: table;">
            <div style="display: table-cell; width: 50%; padding-right: 3%; vertical-align: top;">
                <div style="border-top: 2px solid #000; padding-top: 15px; min-height: 80px; text-align: center;">
                    <div style="font-size: 11pt; font-weight: bold; margin-bottom: 6px;">
                        TESTEMUNHA 1
                    </div>
                    <div style="font-size: 10pt; margin-bottom: 4px;">
                        Nome: ____________________________
                    </div>
                    <div style="font-size: 10pt;">
                        CPF: ______________________________
                    </div>
                </div>
            </div>
            <div style="display: table-cell; width: 50%; padding-left: 3%; vertical-align: top;">
                <div style="border-top: 2px solid #000; padding-top: 15px; min-height: 80px; text-align: center;">
                    <div style="font-size: 11pt; font-weight: bold; margin-bottom: 6px;">
                        TESTEMUNHA 2
                    </div>
                    <div style="font-size: 10pt; margin-bottom: 4px;">
                        Nome: ____________________________
                    </div>
                    <div style="font-size: 10pt;">
                        CPF: ______________________________
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>Rua Monsenhor Coutinho, N¬∫821 ‚Äì CENTRO, CEP 69010-110, Manaus ‚Äì AM</p>
        <p>CNPJ: 34.099.780/0001-90 | Contato: + 55 (92) 99240-7587</p>
        <p>"Î≠êÎì†ÏßÄ Ìï† Ïàò ÏûàÏñ¥Ïöî"</p>
    </div>
    </div>
    
    <!-- Script de download autom√°tico quando em modo download -->
    <script th:if="${downloadMode != null and downloadMode == true}" src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script th:if="${downloadMode != null and downloadMode == true}" th:inline="javascript">
        /*<![CDATA[*/
        document.addEventListener('DOMContentLoaded', function() {
            const nomeArquivo = /*[[${nomeArquivo}]]*/ 'contrato.pdf';
            
            // Fun√ß√£o para aguardar todas as imagens carregarem
            function waitForImages(callback) {
                const images = document.querySelectorAll('img');
                let loadedCount = 0;
                const totalImages = images.length;
                
                if (totalImages === 0) {
                    callback();
                    return;
                }
                
                images.forEach(function(img) {
                    if (img.complete) {
                        loadedCount++;
                        if (loadedCount === totalImages) {
                            callback();
                        }
                    } else {
                        img.onload = function() {
                            loadedCount++;
                            if (loadedCount === totalImages) {
                                callback();
                            }
                        };
                        img.onerror = function() {
                            loadedCount++;
                            if (loadedCount === totalImages) {
                                callback();
                            }
                        };
                    }
                });
                
                // Timeout de seguran√ßa
                setTimeout(callback, 5000);
            }
            
            // Aguardar imagens e renderiza√ß√£o completa
            waitForImages(function() {
                setTimeout(function() {
                    try {
                        const element = document.body;
                        
                        if (!element) {
                            throw new Error('Conte√∫do do contrato n√£o encontrado');
                        }
                        
                        // Configura√ß√µes otimizadas para renderiza√ß√£o fiel ao HTML
                        const opt = {
                            margin: [20, 20, 20, 20], // Margens em mm (equivalente a @page margin: 2cm)
                            filename: nomeArquivo,
                            image: { 
                                type: 'jpeg', 
                                quality: 1.0 // Qualidade m√°xima
                            },
                            html2canvas: { 
                                scale: 2, // Escala alta para melhor qualidade
                                useCORS: true, // Permite carregar imagens de outras origens
                                logging: false,
                                letterRendering: true, // Melhora renderiza√ß√£o de texto
                                backgroundColor: '#ffffff', // Fundo branco
                                windowWidth: element.scrollWidth, // Largura real do conte√∫do
                                windowHeight: element.scrollHeight, // Altura real do conte√∫do
                                onclone: function(clonedDoc) {
                                    // Garantir que estilos sejam aplicados no clone
                                    const clonedBody = clonedDoc.body;
                                    clonedBody.style.fontFamily = "Times New Roman, serif";
                                    clonedBody.style.color = "#000";
                                    clonedBody.style.backgroundColor = "#fff";
                                }
                            },
                            jsPDF: { 
                                unit: 'mm', 
                                format: 'a4', 
                                orientation: 'portrait',
                                precision: 16 // Alta precis√£o
                            },
                            pagebreak: { 
                                mode: ['avoid-all', 'css', 'legacy'],
                                avoid: ['tr', '.signature-section', '.section'] // Evita quebrar em elementos importantes
                            }
                        };
                        
                        // Gerar e baixar PDF
                        html2pdf().set(opt).from(element).save().then(function() {
                            // Fechar a janela ap√≥s download
                            setTimeout(function() {
                                if (window.opener) {
                                    window.close();
                                } else {
                                    window.location.href = '/contratos';
                                }
                            }, 1000);
                        }).catch(function(error) {
                            console.error('Erro ao gerar PDF:', error);
                            alert('Erro ao gerar PDF automaticamente. Voc√™ pode usar Ctrl+P -> Salvar como PDF com o nome: ' + nomeArquivo);
                            if (window.opener) {
                                window.close();
                            } else {
                                window.location.href = '/contratos';
                            }
                        });
                    } catch (error) {
                        console.error('Erro ao processar contrato:', error);
                        alert('Erro ao processar contrato: ' + error.message + '. Voc√™ pode usar Ctrl+P -> Salvar como PDF com o nome: ' + nomeArquivo);
                        if (window.opener) {
                            window.close();
                        } else {
                            window.location.href = '/contratos';
                        }
                    }
                }, 1000); // Aguardar 1 segundo adicional ap√≥s imagens carregarem
            });
        });
        /*]]>*/
    </script>
</body>
</html>

