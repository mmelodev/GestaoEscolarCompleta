spring.application.name=plataforma

# Database Configuration
# ⚠️ IMPORTANTE: Se seu MySQL local requer senha, configure a variável de ambiente DB_PASSWORD
# Windows PowerShell: $env:DB_PASSWORD="sua_senha"
# Windows CMD: set DB_PASSWORD=sua_senha
# Linux/Mac: export DB_PASSWORD=sua_senha
# Ou crie um arquivo .env.local (veja .env.local.example)
spring.datasource.url=${DB_URL:jdbc:mysql://localhost:3306/arirang_db?createDatabaseIfNotExist=true&serverTimezone=UTC&useSSL=false&allowPublicKeyRetrieval=true}
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=${DB_DRIVER:com.mysql.cj.jdbc.Driver}

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html

# JWT Configuration
# ⚠️ IMPORTANTE: Configure JWT_SECRET através de variável de ambiente
# ⚠️ Mínimo recomendado: 32 caracteres (256 bits) para HMAC-SHA256
# ⚠️ Em desenvolvimento, deixe vazio apenas se estiver testando localmente
jwt.secret=${JWT_SECRET:}
jwt.expiration=${JWT_EXPIRATION:86400000}
jwt.secret.min-length=32

# Redis Configuration (opcional)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}

# Cache Configuration
spring.cache.type=simple
app.cache.enabled=${CACHE_ENABLED:true}
app.cache.default-ttl=${CACHE_DEFAULT_TTL:PT10M}
app.cache.cache-null-values=${CACHE_ALLOW_NULL:false}
app.cache.key-prefix=${CACHE_KEY_PREFIX:plataforma::}

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# Default Users Configuration (apenas para desenvolvimento)
# ⚠️ IMPORTANTE: Configure estas senhas através de variáveis de ambiente
# ⚠️ Em produção, deixe vazio para desabilitar criação automática de usuários
# ⚠️ NUNCA commite senhas reais no código!
# Senha padrão para usuário admin (criado automaticamente se não existir)
# Configure APP_DEFAULT_ADMIN_PASSWORD para personalizar
# ⚠️ ATENÇÃO: "admin123" é apenas para desenvolvimento local. NUNCA use em produção!
app.default.admin.password=${APP_DEFAULT_ADMIN_PASSWORD:admin123}
app.default.test.password=${APP_DEFAULT_TEST_PASSWORD:}

# CORS Configuration (Desenvolvimento)
# Em desenvolvimento, o CORS permite automaticamente localhost:*
# Não é necessário configurar nada aqui, mas você pode personalizar se necessário
# app.cors.allowed-origin-patterns=http://localhost:*,http://127.0.0.1:*

# File Upload Configuration
# Tamanho máximo do arquivo (em bytes) - padrão: 5MB
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB

# Configurações de validação de upload
app.upload.max-file-size=5242880
app.upload.allowed-extensions=.jpg,.jpeg,.png,.gif,.webp
app.upload.validate-image-content=true
app.upload.max-image-width=4096
app.upload.max-image-height=4096
